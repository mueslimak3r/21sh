echo "Starting wtsh test suite..."
echo "Testing quotes and environment..."

alias yell=echo
	 		 	 	 	 	 	 	 	  	
#should be "hie$"
yell "hi"e | cat -e

echo "should error"
yell "test"e" | cat -e

#should be "test$"
"yell" test | cat -e

#should be "test$"
'echo' "test" | cat -e

echo "should be bar"
export FOO=bar
'yell' $FOO

echo "should be baz"
export FOO=baz
yell $FOO

echo "should be a newline"
unset FOO
unset FOO
echo $FOO

echo "Testing lexer & parser..."

echo "should print dir without dollar signs"
ls 1>&2 | cat -e

echo "should do nothing and return prompt"
ls 2>&- 1>&2 | cat -e

echo "should print dir without dollar signs"
ls 1>&2 2>&- | cat -e

echo "should output man top in ascii"
man top > test.txt ; cat test.txt | tail -n 10

echo "should show last 10 lines of man top, wc -l output and ls should not show"
cat < test.txt > test2.txt ; cat -e < test.txt | wc -l >> test2.txt ; cat test2.txt| tail -n 10 ; rm test2.txt ; ls | grep test2
